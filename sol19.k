#!/usr/bin/env k

tr:{?x,,/(@[;1 0 2];@[;2 1 0])@\:/: -1 1 1*/:x} / all rotations

i:`I$'''","\''{c:&(""~)'x;2_'c_x}[(,""),0:"inputs/19"]

r:{*'(*'c;d)@\:&#'c:(&11<#'=,/x-\:/:)'d:+{tr/,x}'y}

a:{?x,,/ m:+/:/'n:x[0] {r[x;y]}/: x[1]; np:0=#'m;(?x[0],,/m; x[1]@&np;x[2],n[;0]@&~np)}

m:a/(i[0];1_i;,0 0 0)
#m[0]
abs:|/(-1 1)*\:
mh:{+/abs'x-y}
|//m[2] mh\:/:m[2]
